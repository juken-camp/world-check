// sekaiisan-data.js
const SEKAIISAN_DATA = {
    // åŒ—æµ·é“ã¨æ±åŒ—
    hokkaido_tohoku: {
        title: "åŒ—æµ·é“ã¨æ±åŒ—",
        description: "åŒ—æµ·é“ã¨æ±åŒ—åœ°æ–¹ã®ä¸–ç•Œéºç”£",
        emoji: "ğŸ”ï¸",
        terms: [
            {
                term: "çŸ¥åºŠ",
                description: "æ‰‹ã¤ã‹ãšã®è‡ªç„¶ãŒæ®‹ã‚‹ã€ç”Ÿæ…‹ç³»ã®å®åº«"
            },
            {
                term: "ç™½ç¥å±±åœ°", 
                description: "ä¸–ç•Œæœ€å¤§ç´šã®åºƒå¤§ãªãƒ–ãƒŠåŸç”Ÿæ—"
            },
            {
                term: "ç¸„æ–‡éºè·¡ç¾¤",
                description: "ç¸„æ–‡æ–‡åŒ–ã‚’ç¤ºã™è²´é‡ãªéºè·¡ç¾¤"
            },
            {
                term: "å¹³æ³‰",
                description: "æµ„åœŸæ€æƒ³ã‚’è¡¨ç¾ã—ãŸä»æ•™å»ºç¯‰ã¨åº­åœ’"
            }
        ]
    },

    // æ±æ—¥æœ¬ã®éºç”£
    higashi_nihon: {
        title: "æ±æ—¥æœ¬ã®éºç”£",
        description: "æ±æ—¥æœ¬åœ°æ–¹ã®ä¸–ç•Œéºç”£",
        emoji: "ğŸ—¾",
        terms: [
            {
                term: "æ—¥å…‰ã®ç¤¾å¯º",
                description: "å¾³å·å®¶åº·ã‚’ç¥€ã‚‹ã€è±ªè¯çµ¢çˆ›ãªç¥ç¤¾ä»é–£"
            },
            {
                term: "å¯Œå£«å±±",
                description: "ä¿¡ä»°ã¨èŠ¸è¡“ã®å¯¾è±¡ã€æ—¥æœ¬ã®è±¡å¾´çš„ãªå±±"
            },
            {
                term: "å¯Œå²¡è£½ç³¸å ´",
                description: "æ—¥æœ¬è¿‘ä»£åŒ–ã®è±¡å¾´ã€åˆã®æ©Ÿæ¢°è£½ç³¸å·¥å ´"
            },
            {
                term: "ä½æ¸¡å³¶ã®é‡‘å±±",
                description: "æ±Ÿæˆ¸æ™‚ä»£ã®é‡‘æ¡æ˜æŠ€è¡“ã¨æ­´å²ã‚’ä¼ãˆã‚‹åœ°"
            },
            {
                term: "å°ç¬ åŸè«¸å³¶",
                description: "å›ºæœ‰ç¨®ãŒå¤šã„ã€ä¸–ç•Œçš„ã«é‡è¦ãªç”Ÿæ…‹ç³»"
            }
        ]
    },

    // é–¢è¥¿ã¨ä¸­éƒ¨
    kansai_chubu: {
        title: "é–¢è¥¿ã¨ä¸­éƒ¨",
        description: "é–¢è¥¿ã¨ä¸­éƒ¨åœ°æ–¹ã®ä¸–ç•Œéºç”£",
        emoji: "ğŸ¯",
        terms: [
            {
                term: "ç™½å·éƒ·",
                description: "è±ªé›ªåœ°å¸¯ã®çŸ¥æµãŒè©°ã¾ã£ãŸåˆæŒé€ ã‚Šé›†è½"
            },
            {
                term: "åŠ è³€ç™¾ä¸‡çŸ³æ–‡åŒ–ã®é“",
                description: "æ­¦å®¶æ–‡åŒ–ã¨ä¼çµ±å·¥èŠ¸ãŒæ „ãˆãŸåœ°åŸŸ"
            },
            {
                term: "å§«è·¯åŸ",
                description: "ç™½é·ºåŸã®æ„›ç§°ã€ç¾ã—ã„å¤©å®ˆé–£ã‚’æŒã¤ååŸ"
            },
            {
                term: "å¤éƒ½äº¬éƒ½",
                description: "åƒå¹´ã«ã‚ãŸã‚Šæ—¥æœ¬æ–‡åŒ–ã‚’è‚²ã‚“ã éƒ½"
            },
            {
                term: "å¤éƒ½å¥ˆè‰¯",
                description: "ä»æ•™æ–‡åŒ–ãŒæ „ãˆã€å›½éš›äº¤æµã®è¦æ‰€"
            },
            {
                term: "ç´€ä¼Šå±±åœ°",
                description: "å·¡ç¤¼ã®é“ã¨è‡ªç„¶ä¿¡ä»°ã®èåˆåœ°"
            },
            {
                term: "æ³•éš†å¯º",
                description: "ä¸–ç•Œæœ€å¤ã®æœ¨é€ å»ºç¯‰ã€ä»æ•™æ–‡åŒ–ã®éºç”£"
            },
            {
                term: "å³å³¶ç¥ç¤¾",
                description: "æµ·ä¸Šã«å»ºã¤ç¤¾æ®¿ã¨èµ¤ã„å¤§é³¥å±…ãŒè±¡å¾´"
            },
            {
                term: "çŸ³è¦‹éŠ€å±±",
                description: "æ±Ÿæˆ¸æ™‚ä»£ã€æ—¥æœ¬ã®çµŒæ¸ˆã‚’æ”¯ãˆãŸéŠ€é‰±å±±"
            }
        ]
    },

    // è¥¿æ—¥æœ¬ã®éºç”£
    nishi_nihon: {
        title: "è¥¿æ—¥æœ¬ã®éºç”£",
        description: "è¥¿æ—¥æœ¬åœ°æ–¹ã®ä¸–ç•Œéºç”£",
        emoji: "ğŸ­",
        terms: [
            {
                term: "ç”£æ¥­é©å‘½éºç”£",
                description: "è¿‘ä»£åŒ–ã‚’æ¨é€²ã—ãŸå·¥å ´ã¨æ¸¯æ¹¾æ–½è¨­"
            },
            {
                term: "åŸçˆ†ãƒ‰ãƒ¼ãƒ ",
                description: "åŸçˆ†ã®æ‚²åŠ‡ã‚’ä¼ãˆã‚‹å¹³å’Œã®è±¡å¾´"
            }
        ]
    },

    // ä¹å·ã¨æ²–ç¸„
    kyushu_okinawa: {
        title: "ä¹å·ã¨æ²–ç¸„",
        description: "ä¹å·ã¨æ²–ç¸„åœ°æ–¹ã®ä¸–ç•Œéºç”£",
        emoji: "ğŸŒº",
        terms: [
            {
                term: "æ²–ãƒå³¶",
                description: "å¤ä»£ç¥­ç¥€ã®èˆå°ã€æµ·ã®è–åœ°"
            },
            {
                term: "é•·å´ã®æ•™ä¼šç¾¤ã¨ã‚­ãƒªã‚·ã‚¿ãƒ³é–¢é€£éºç”£",
                description: "ä¿¡ä»°ã‚’å®ˆã£ãŸã‚­ãƒªã‚·ã‚¿ãƒ³ã®æ­´å²çš„éºç”£"
            },
            {
                term: "æ½œä¼ã‚­ãƒªã‚·ã‚¿ãƒ³é–¢é€£éºç”£",
                description: "å¼¾åœ§ä¸‹ã§ä¿¡ä»°ã‚’ç¶šã‘ãŸéš ã‚Œã‚­ãƒªã‚·ã‚¿ãƒ³ã®è¨¼"
            },
            {
                term: "å±‹ä¹…å³¶",
                description: "æ¨¹é½¢åƒå¹´ã‚’è¶…ãˆã‚‹å±‹ä¹…æ‰ãŒèŒ‚ã‚‹è‡ªç„¶éºç”£"
            },
            {
                term: "å¥„ç¾å¤§å³¶",
                description: "ç”Ÿç‰©å¤šæ§˜æ€§ãŒè±Šã‹ãªäºœç†±å¸¯ã®æ¥½åœ’"
            },
            {
                term: "ç‰çƒç‹å›½",
                description: "ç‰çƒç‹¬è‡ªã®åŸï¼ˆã‚°ã‚¹ã‚¯ï¼‰ã¨æ–‡åŒ–éºè·¡"
            }
        ]
    }
};

// ãƒ‡ãƒ¼ã‚¿åˆ©ç”¨ç”¨ã®ä¾¿åˆ©é–¢æ•°
const SekaiisanDataUtils = {
    // å…¨ã‚«ãƒ†ã‚´ãƒªå–å¾—
    getAllCategories: () => Object.keys(SEKAIISAN_DATA),
    
    // æŒ‡å®šã‚«ãƒ†ã‚´ãƒªã®ãƒ‡ãƒ¼ã‚¿å–å¾—
    getCategoryData: (category) => SEKAIISAN_DATA[category],
    
    // ãƒ©ãƒ³ãƒ€ãƒ ãªå•é¡Œã‚»ãƒƒãƒˆç”Ÿæˆ
    generateRandomSet: (category, count = 8) => {
        const data = SEKAIISAN_DATA[category];
        if (!data) return [];
        
        let allTerms = [];
        if (data.terms) {
            allTerms = [...data.terms];
        } else if (data.subcategories) {
            Object.values(data.subcategories).forEach(sub => {
                allTerms = allTerms.concat(sub.terms);
            });
        }
        
        // ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¦æŒ‡å®šæ•°å–å¾—
        for (let i = allTerms.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [allTerms[i], allTerms[j]] = [allTerms[j], allTerms[i]];
        }
        
        return allTerms.slice(0, count);
    },
    
    // å…¨ä¸–ç•Œéºç”£ã‹ã‚‰æ¤œç´¢
    searchAllTerms: (searchTerm) => {
        let results = [];
        Object.values(SEKAIISAN_DATA).forEach(category => {
            if (category.terms) {
                const found = category.terms.filter(term => 
                    term.term.includes(searchTerm) || term.description.includes(searchTerm)
                );
                results = results.concat(found);
            }
        });
        return results;
    }
};